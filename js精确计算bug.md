# js精确计算bug

出现这样的结果让我很震惊

~~~~
console.log( 1 - 0.8 );  //输出 0.19999999999999996 
console.log( 6 * 0.7 );  //输出 4.199999999999999 
console.log( 0.1 + 0.2 );  //输出 0.30000000000000004 
console.log( 0.1 + 0.7 );  //输出 0.7999999999999999 
console.log( 1.2 / 0.2 );  //输出 5.999999999999999 

//通过上面举出的例子可以看到，原生的js运算结果不一定准确，会丢失精度。 

~~~~

解决方案的原理是，将浮点数乘以（扩大）10的n次方倍，把浮点数变为整数后再进行相应的运算，最后将得到的结果除以（缩小）10的n次方倍。 

将 console.log(1-0.8);  变为 console.log((1 * 10 - 0.8 * 10) / 10); 即可得到正确的值

还有一个方法是自己去写一些方法来处理加/减/乘/除(但我觉得这有点麻烦了)
 
 目前来说的best practice只能是先扩大成整数再除
 
 更好一点的办法
 
 ~~~~
 //感谢大麻宋
  (0.1 + 0.2).toFixed(2)    #toFixed参数是保留几位小数
  
 ~~~~
